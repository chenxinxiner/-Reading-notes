# 深入理解计算机组成原理

## 程序结构和执行

### 信息的表示和处理

### 1. 1 信息存储

+ 我们将程序称为“32位程序”或“64位程序”时，区别是该程序是如何编译的，而不是其运行的机器类型。

+ 几乎所有的机器上，多<font color="red">字节</font>对象被存储为连续的<font color="red">字节</font>序列

+ 最低有效<font color="red">字节</font>在最前面的方式，称为**小端法**
  
  最高有效<font color="red">字节</font>在最前面的方式，称为**大端法**

![大端小端](http://img.chenxinzouzou.cn/blog/20200828/220102729.png)

  + 字节顺序影响的三个地方
    + 不同类型之间通过网络传送二进制数时
    + 当阅读表示整数数据的字节序列时字节顺序也很重要
  + 当编写规避正常的类型系统的程序时，如强制类型转换
  
+ 计算机系统的一个基本概念就是，从机器的角度来看，程序仅仅只是字节序列。机器没有关于原始源程序的任何信息，除了可能有些用来调试的辅助表以外。

+ ~   对应 NOT，& 对应AND ，| 对应OR，^ 对应异或（相同则为假，不同则为真）

![布尔运算](http://img.chenxinzouzou.cn/blog/20200828/214830867.jpg)

位向量的运算可以定义成参数的每个对应元素之间的运算

![mark](http://img.chenxinzouzou.cn/blog/20200828/220030872.jpg)

+ 位向量的一个重要运用就是表示有限集合，可用于屏蔽或使能信号（一个位代表一个信号），如计算机网络中的子网掩码

+ C中得移位操作符：

  + x<<k  ，x向左移k位，右端位补k个零

  + 右移分为两种

    +  x>>>k（Java），逻辑右移

      在左端补k个零

    + x>>k，算术右移

      在左端补k个最高有效位（符号位）的值

      ![移位运算](http://img.chenxinzouzou.cn/blog/20200828/220126319.jpg)

### 1. 2 信息存储

+ 整数得编码

  + 无符号数编码的唯一性，函数B2W<sub>w</sub>，是一个双射。

  + 补码定义：![补码定义](http://img.chenxinzouzou.cn/blog/20200831/113113751.jpg)补码编码的最高有效位X<sub>w-1</sub>也称为符号位，它的“权重”为**-2<sup>w-1</sup>**，当符号位设置为1时，表示值为负数，当设置为0时，值为非负。

    补码编码的唯一性，B2T<sub>w</sub>是一个双射。

    补码是不对称的。

    关于整数数据类型的取值范围和表示，Java标准是非常明确的，它要求采用补码表示。在Java中，单字节数据类型称为byte而不是char。

  + 有符号数的其他表示方式

    ![有符号数的其他表示方式](http://img.chenxinzouzou.cn/blog/20200831/155755236.jpg)

    这两种表示方式都有一个奇怪的属性，那就是对数字0有两种不同的编码方式。浮点数中会使用原码编码。

+ 有符号数和无符号之间的转换

  + 一般的规则是：数值可能会改变，但是位模式不变，即改变的是计算机解释当前值的方式。

  + 在C语言中，当执行一个运算时，如果它的一个运算数是有符号的而另一个是无符号的，那么C语言会隐式地将有符号数参数强制转换为无符号数

    ![C语言的升级规则的效果](http://img.chenxinzouzou.cn/blog/20200831/204647807.jpg)

+ 拓展一个数字的位表示和截取一个数字

  + 无符号数的零拓展：直接在拓展高位补零

  + 补码数的符号拓展：拓展位全部补上原符号位的值

  + 截断无符号数：直接舍弃截断的位数，mod 操作

  + 截断补码数值：近似 mod 操作

  + 举个例子

    